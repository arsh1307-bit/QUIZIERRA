(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,23750,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(47163);let i=r.forwardRef(({className:e,type:r,...i},s)=>(0,t.jsx)("input",{type:r,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...i}));i.displayName="Input",e.s(["Input",()=>i])},10708,e=>{"use strict";var t=e.i(43476),r=e.i(71645);e.i(74080);var a=e.i(91918),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,i)=>{let s=(0,a.createSlot)(`Primitive.${i}`),n=r.forwardRef((e,r)=>{let{asChild:a,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(a?s:i,{...n,ref:r})});return n.displayName=`Primitive.${i}`,{...e,[i]:n}},{}),s=r.forwardRef((e,r)=>(0,t.jsx)(i.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));s.displayName="Label";var n=e.i(25913),o=e.i(47163);let l=(0,n.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)(s,{ref:a,className:(0,o.cn)(l(),e),...r}));c.displayName=s.displayName,e.s(["Label",()=>c],10708)},74946,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(91918),i=e.i(53145),s=e.i(47163),n=e.i(10708);let o=i.FormProvider,l=r.createContext({}),c=({...e})=>(0,t.jsx)(l.Provider,{value:{name:e.name},children:(0,t.jsx)(i.Controller,{...e})}),d=()=>{let e=r.useContext(l),t=r.useContext(u),{getFieldState:a,formState:s}=(0,i.useFormContext)(),n=a(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=t;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...n}},u=r.createContext({}),f=r.forwardRef(({className:e,...a},i)=>{let n=r.useId();return(0,t.jsx)(u.Provider,{value:{id:n},children:(0,t.jsx)("div",{ref:i,className:(0,s.cn)("space-y-2",e),...a})})});f.displayName="FormItem";let p=r.forwardRef(({className:e,...r},a)=>{let{error:i,formItemId:o}=d();return(0,t.jsx)(n.Label,{ref:a,className:(0,s.cn)(i&&"text-destructive",e),htmlFor:o,...r})});p.displayName="FormLabel";let m=r.forwardRef(({...e},r)=>{let{error:i,formItemId:s,formDescriptionId:n,formMessageId:o}=d();return(0,t.jsx)(a.Slot,{ref:r,id:s,"aria-describedby":i?`${n} ${o}`:`${n}`,"aria-invalid":!!i,...e})});m.displayName="FormControl",r.forwardRef(({className:e,...r},a)=>{let{formDescriptionId:i}=d();return(0,t.jsx)("p",{ref:a,id:i,className:(0,s.cn)("text-sm text-muted-foreground",e),...r})}).displayName="FormDescription";let h=r.forwardRef(({className:e,children:r,...a},i)=>{let{error:n,formMessageId:o}=d(),l=n?String(n?.message??""):r;return l?(0,t.jsx)("p",{ref:i,id:o,className:(0,s.cn)("text-sm font-medium text-destructive",e),...a,children:l}):null});h.displayName="FormMessage",e.s(["Form",()=>o,"FormControl",()=>m,"FormField",()=>c,"FormItem",()=>f,"FormLabel",()=>p,"FormMessage",()=>h])},71689,e=>{"use strict";let t=(0,e.i(75254).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},73884,e=>{"use strict";let t=(0,e.i(75254).default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>t],73884)},69638,e=>{"use strict";let t=(0,e.i(75254).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},58249,e=>{"use strict";function t(e){let t=e.toLowerCase().split(/\s+/);for(let t of["tcp","http","network","protocol","algorithm","data structure","array","tree","function","variable","class","object","derivative","integral","equation","matrix","cell","molecule","atom","reaction"])if(e.toLowerCase().includes(t))return t.charAt(0).toUpperCase()+t.slice(1);return t.slice(0,4).join(" ").substring(0,50)||"General"}function r(e){let r,a=[...e].sort((e,t)=>new Date(e.startedAt).getTime()-new Date(t.startedAt).getTime()).map(e=>{if(!e.gradedAnswers||0===e.gradedAnswers.length)return{date:e.startedAt,accuracy:0};let t=e.gradedAnswers.filter(e=>e.isCorrect).length/e.gradedAnswers.length*100;return{date:e.startedAt,accuracy:t}}),i=(r=new Map,e.forEach(e=>{e.gradedAnswers&&e.gradedAnswers.forEach(e=>{let a=t(e.questionContent);r.has(a)||r.set(a,{correct:0,total:0,timeTaken:[],questionIds:new Set});let i=r.get(a);i.total++,e.isCorrect&&i.correct++,i.timeTaken.push(e.timeTaken),i.questionIds.add(e.questionId)})}),Array.from(r.entries()).map(([e,t])=>({topic:e,questionIds:Array.from(t.questionIds),accuracy:t.total>0?t.correct/t.total*100:0,totalAttempts:t.total,avgTimeTaken:t.timeTaken.length>0?t.timeTaken.reduce((e,t)=>e+t,0)/t.timeTaken.length:0})).filter(e=>e.accuracy<70||e.totalAttempts>=3).sort((e,t)=>e.accuracy-t.accuracy)),s=new Map;e.forEach(e=>{e.gradedAnswers?.forEach(e=>{let r=t(e.questionContent);s.has(r)||s.set(r,{correct:0,total:0});let a=s.get(r);a.total++,e.isCorrect&&a.correct++})});let n=Array.from(s.entries()).filter(([e,t])=>t.total>=2&&t.correct/t.total>=.8).map(([e])=>e),o=[];e.forEach(e=>{e.gradedAnswers?.forEach(e=>{o.push(e.timeTaken)})});let l=o.length>0?o.reduce((e,t)=>e+t,0)/o.length:0,c="stable";if(a.length>=3){let e=a.slice(-3).map(e=>e.accuracy),t=a.slice(0,3).map(e=>e.accuracy),r=e.reduce((e,t)=>e+t,0)/e.length,i=t.reduce((e,t)=>e+t,0)/t.length;r>i+5?c="improving":r<i-5&&(c="declining")}return{accuracyOverTime:a,weakAreas:i,strongAreas:n,avgTimePerQuestion:l,totalQuestionsAnswered:o.length,improvementTrend:c}}e.s(["calculateAnalytics",()=>r])},3116,e=>{"use strict";let t=(0,e.i(75254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],3116)},94179,e=>{"use strict";var t=e.i(43476),r=e.i(25913),a=e.i(47163);let i=(0,r.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function s({className:e,variant:r,...s}){return(0,t.jsx)("div",{className:(0,a.cn)(i({variant:r}),e),...s})}e.s(["Badge",()=>s])},32189,(e,t,r)=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},65156,(e,t,r)=>{"use strict";var a=e.r(32189);function i(){}function s(){}s.resetWarningCache=i,t.exports=function(){function e(e,t,r,i,s,n){if(n!==a){var o=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return r.PropTypes=r,r}},45009,(e,t,r)=>{t.exports=e.r(65156)()},20278,e=>{"use strict";let t=(0,e.i(75254).default)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);e.s(["Target",()=>t],20278)},64659,e=>{"use strict";let t=(0,e.i(75254).default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>t],64659)},90538,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(30030),i=e.i(75830),s=e.i(20783),n=e.i(81140),o=e.i(69340),l=e.i(48425),c=e.i(34620),d=e.i(96626),u=e.i(10772),f="Collapsible",[p,m]=(0,a.createContextScope)(f),[h,x]=p(f),v=r.forwardRef((e,a)=>{let{__scopeCollapsible:i,open:s,defaultOpen:n,disabled:c,onOpenChange:d,...p}=e,[m,x]=(0,o.useControllableState)({prop:s,defaultProp:n??!1,onChange:d,caller:f});return(0,t.jsx)(h,{scope:i,disabled:c,contentId:(0,u.useId)(),open:m,onOpenToggle:r.useCallback(()=>x(e=>!e),[x]),children:(0,t.jsx)(l.Primitive.div,{"data-state":C(m),"data-disabled":c?"":void 0,...p,ref:a})})});v.displayName=f;var y="CollapsibleTrigger",g=r.forwardRef((e,r)=>{let{__scopeCollapsible:a,...i}=e,s=x(y,a);return(0,t.jsx)(l.Primitive.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":C(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...i,ref:r,onClick:(0,n.composeEventHandlers)(e.onClick,s.onOpenToggle)})});g.displayName=y;var b="CollapsibleContent",w=r.forwardRef((e,r)=>{let{forceMount:a,...i}=e,s=x(b,e.__scopeCollapsible);return(0,t.jsx)(d.Presence,{present:a||s.open,children:({present:e})=>(0,t.jsx)(j,{...i,ref:r,present:e})})});w.displayName=b;var j=r.forwardRef((e,a)=>{let{__scopeCollapsible:i,present:n,children:o,...d}=e,u=x(b,i),[f,p]=r.useState(n),m=r.useRef(null),h=(0,s.useComposedRefs)(a,m),v=r.useRef(0),y=v.current,g=r.useRef(0),w=g.current,j=u.open||f,N=r.useRef(j),k=r.useRef(void 0);return r.useEffect(()=>{let e=requestAnimationFrame(()=>N.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,c.useLayoutEffect)(()=>{let e=m.current;if(e){k.current=k.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let t=e.getBoundingClientRect();v.current=t.height,g.current=t.width,N.current||(e.style.transitionDuration=k.current.transitionDuration,e.style.animationName=k.current.animationName),p(n)}},[u.open,n]),(0,t.jsx)(l.Primitive.div,{"data-state":C(u.open),"data-disabled":u.disabled?"":void 0,id:u.contentId,hidden:!j,...d,ref:h,style:{"--radix-collapsible-content-height":y?`${y}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...e.style},children:j&&o})});function C(e){return e?"open":"closed"}var N=e.i(86318),k="Accordion",R=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[A,I,S]=(0,i.createCollection)(k),[E,T]=(0,a.createContextScope)(k,[S,m]),P=m(),F=r.default.forwardRef((e,r)=>{let{type:a,...i}=e;return(0,t.jsx)(A.Provider,{scope:e.__scopeAccordion,children:"multiple"===a?(0,t.jsx)(_,{...i,ref:r}):(0,t.jsx)(q,{...i,ref:r})})});F.displayName=k;var[z,D]=E(k),[M,L]=E(k,{collapsible:!1}),q=r.default.forwardRef((e,a)=>{let{value:i,defaultValue:s,onValueChange:n=()=>{},collapsible:l=!1,...c}=e,[d,u]=(0,o.useControllableState)({prop:i,defaultProp:s??"",onChange:n,caller:k});return(0,t.jsx)(z,{scope:e.__scopeAccordion,value:r.default.useMemo(()=>d?[d]:[],[d]),onItemOpen:u,onItemClose:r.default.useCallback(()=>l&&u(""),[l,u]),children:(0,t.jsx)(M,{scope:e.__scopeAccordion,collapsible:l,children:(0,t.jsx)(O,{...c,ref:a})})})}),_=r.default.forwardRef((e,a)=>{let{value:i,defaultValue:s,onValueChange:n=()=>{},...l}=e,[c,d]=(0,o.useControllableState)({prop:i,defaultProp:s??[],onChange:n,caller:k}),u=r.default.useCallback(e=>d((t=[])=>[...t,e]),[d]),f=r.default.useCallback(e=>d((t=[])=>t.filter(t=>t!==e)),[d]);return(0,t.jsx)(z,{scope:e.__scopeAccordion,value:c,onItemOpen:u,onItemClose:f,children:(0,t.jsx)(M,{scope:e.__scopeAccordion,collapsible:!0,children:(0,t.jsx)(O,{...l,ref:a})})})}),[H,$]=E(k),O=r.default.forwardRef((e,a)=>{let{__scopeAccordion:i,disabled:o,dir:c,orientation:d="vertical",...u}=e,f=r.default.useRef(null),p=(0,s.useComposedRefs)(f,a),m=I(i),h="ltr"===(0,N.useDirection)(c),x=(0,n.composeEventHandlers)(e.onKeyDown,e=>{if(!R.includes(e.key))return;let t=e.target,r=m().filter(e=>!e.ref.current?.disabled),a=r.findIndex(e=>e.ref.current===t),i=r.length;if(-1===a)return;e.preventDefault();let s=a,n=i-1,o=()=>{(s=a+1)>n&&(s=0)},l=()=>{(s=a-1)<0&&(s=n)};switch(e.key){case"Home":s=0;break;case"End":s=n;break;case"ArrowRight":"horizontal"===d&&(h?o():l());break;case"ArrowDown":"vertical"===d&&o();break;case"ArrowLeft":"horizontal"===d&&(h?l():o());break;case"ArrowUp":"vertical"===d&&l()}let c=s%i;r[c].ref.current?.focus()});return(0,t.jsx)(H,{scope:i,disabled:o,direction:c,orientation:d,children:(0,t.jsx)(A.Slot,{scope:i,children:(0,t.jsx)(l.Primitive.div,{...u,"data-orientation":d,ref:p,onKeyDown:o?void 0:x})})})}),B="AccordionItem",[G,V]=E(B),U=r.default.forwardRef((e,r)=>{let{__scopeAccordion:a,value:i,...s}=e,n=$(B,a),o=D(B,a),l=P(a),c=(0,u.useId)(),d=i&&o.value.includes(i)||!1,f=n.disabled||e.disabled;return(0,t.jsx)(G,{scope:a,open:d,disabled:f,triggerId:c,children:(0,t.jsx)(v,{"data-orientation":n.orientation,"data-state":J(d),...l,...s,ref:r,disabled:f,open:d,onOpenChange:e=>{e?o.onItemOpen(i):o.onItemClose(i)}})})});U.displayName=B;var W="AccordionHeader",K=r.default.forwardRef((e,r)=>{let{__scopeAccordion:a,...i}=e,s=$(k,a),n=V(W,a);return(0,t.jsx)(l.Primitive.h3,{"data-orientation":s.orientation,"data-state":J(n.open),"data-disabled":n.disabled?"":void 0,...i,ref:r})});K.displayName=W;var Q="AccordionTrigger",Y=r.default.forwardRef((e,r)=>{let{__scopeAccordion:a,...i}=e,s=$(k,a),n=V(Q,a),o=L(Q,a),l=P(a);return(0,t.jsx)(A.ItemSlot,{scope:a,children:(0,t.jsx)(g,{"aria-disabled":n.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:n.triggerId,...l,...i,ref:r})})});Y.displayName=Q;var X="AccordionContent",Z=r.default.forwardRef((e,r)=>{let{__scopeAccordion:a,...i}=e,s=$(k,a),n=V(X,a),o=P(a);return(0,t.jsx)(w,{role:"region","aria-labelledby":n.triggerId,"data-orientation":s.orientation,...o,...i,ref:r,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});function J(e){return e?"open":"closed"}Z.displayName=X;var ee=e.i(64659),et=e.i(47163);let er=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)(U,{ref:a,className:(0,et.cn)("border-b",e),...r}));er.displayName="AccordionItem";let ea=r.forwardRef(({className:e,children:r,...a},i)=>(0,t.jsx)(K,{className:"flex",children:(0,t.jsxs)(Y,{ref:i,className:(0,et.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...a,children:[r,(0,t.jsx)(ee.ChevronDown,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));ea.displayName=Y.displayName;let ei=r.forwardRef(({className:e,children:r,...a},i)=>(0,t.jsx)(Z,{ref:i,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...a,children:(0,t.jsx)("div",{className:(0,et.cn)("pb-4 pt-0",e),children:r})}));ei.displayName=Z.displayName,e.s(["Accordion",()=>F,"AccordionContent",()=>ei,"AccordionItem",()=>er,"AccordionTrigger",()=>ea],90538)},48242,63209,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(46932),i=e.i(23750),s=e.i(67881),n=e.i(70065),o=e.i(90538),l=e.i(10708),c=e.i(16540),d=e.i(84762),u=e.i(75254);let f=(0,u.default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>f],63209);var p=e.i(71689),m=e.i(69638),h=e.i(31278);let x=(0,u.default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var v=e.i(27612),y=e.i(33060),g=e.i(20682),b=e.i(53427),w=e.i(18566);e.i(36180);var j=e.i(17875);function C({quizData:e,onBack:u,onReset:C}){let{user:N}=(0,b.useUser)(),k=(0,b.useFirestore)(),R=(0,w.useRouter)(),[A,I]=(0,r.useState)(e.title),[S,E]=(0,r.useState)(e.questions.map(e=>({...e,isApproved:"text"===e.type}))),[T,P]=(0,r.useState)(!1),F=(e,t)=>{E(r=>r.map(r=>r.id===e?{...r,correctAnswer:t,isApproved:!0}:r))},z=S.filter(e=>"mcq"===e.type&&!e.isApproved).length,D=async()=>{if(!N||!k)return void(0,g.toast)({variant:"destructive",title:"Authentication Error",description:"You must be logged in to save a quiz."});if(z>0)return void(0,g.toast)({variant:"destructive",title:"Approval Needed",description:`Please approve the correct answer for ${z} more MCQ question(s).`});P(!0);try{let e=(0,j.writeBatch)(k),t=(0,j.collection)(k,"quizzes"),r=(0,j.doc)(t),a={id:r.id,title:A,createdBy:N.uid,createdAt:new Date().toISOString(),questionIds:S.map(e=>e.id),description:`A quiz with ${S.length} questions.`};e.set(r,a);let i=(0,j.collection)(r,"questions");S.forEach(t=>{let a=(0,j.doc)(i,t.id),s={id:t.id,type:t.type,content:t.content,maxScore:t.maxScore,quizId:r.id,...t.options&&{options:t.options},...t.correctAnswer&&{correctAnswer:t.correctAnswer}};e.set(a,s)}),await e.commit(),(0,g.toast)({title:"Quiz Saved!",description:`Your new quiz "${A}" has been successfully created.`}),C(),R.push("/dashboard/quizzes")}catch(e){(0,g.toast)({variant:"destructive",title:"Save Failed",description:e.message||"An unexpected error occurred while saving the quiz."})}finally{P(!1)}};return(0,t.jsxs)(a.motion.div,{initial:{opacity:0},animate:{opacity:1},className:"max-w-4xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(s.Button,{variant:"outline",onClick:u,children:[(0,t.jsx)(p.ArrowLeft,{className:"mr-2 h-4 w-4"})," Back to Generator"]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("h1",{className:"text-2xl font-bold flex items-center gap-2 justify-center",children:[(0,t.jsx)(y.Wand2,{className:"h-6 w-6 text-primary"})," Review & Refine Your Quiz"]}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Approve AI suggestions and edit content before saving."})]}),(0,t.jsxs)(s.Button,{onClick:D,disabled:T||z>0,children:[T?(0,t.jsx)(h.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):(0,t.jsx)(x,{className:"mr-2 h-4 w-4"}),"Save Quiz"]})]}),z>0&&(0,t.jsxs)("div",{className:"p-3 rounded-md bg-amber-500/10 text-amber-600 border border-amber-500/20 flex items-center gap-3",children:[(0,t.jsx)(f,{className:"h-5 w-5"}),(0,t.jsxs)("p",{className:"text-sm font-medium",children:["You have ",z," multiple-choice question(s) that require an approved answer."]})]}),(0,t.jsxs)(n.Card,{children:[(0,t.jsx)(n.CardHeader,{children:(0,t.jsx)(l.Label,{htmlFor:"quiz-title",className:"text-lg font-semibold",children:"Quiz Title"})}),(0,t.jsx)(n.CardContent,{children:(0,t.jsx)(i.Input,{id:"quiz-title",value:A,onChange:e=>I(e.target.value),className:"text-2xl font-bold h-12"})})]}),(0,t.jsx)(o.Accordion,{type:"single",collapsible:!0,defaultValue:"item-0",className:"w-full space-y-4",children:S.map((r,a)=>(0,t.jsx)(o.AccordionItem,{value:`item-${a}`,className:"border-b-0",children:(0,t.jsxs)(n.Card,{className:"overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex items-center p-4 hover:bg-muted/50 group",children:[(0,t.jsx)(o.AccordionTrigger,{className:"flex-1 p-0 hover:no-underline",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:["mcq"===r.type?r.isApproved?(0,t.jsx)(m.CheckCircle,{className:"h-5 w-5 text-green-500"}):(0,t.jsx)(f,{className:"h-5 w-5 text-amber-500"}):(0,t.jsx)(m.CheckCircle,{className:"h-5 w-5 text-green-500"}),(0,t.jsxs)("span",{className:"font-semibold text-left",children:[a+1,". ",r.content]})]})}),(0,t.jsx)(s.Button,{variant:"ghost",size:"icon",className:"ml-4 text-muted-foreground hover:text-destructive",onClick:()=>{var e;return e=r.id,void E(t=>t.filter(t=>t.id!==e))},children:(0,t.jsx)(v.Trash2,{className:"h-4 w-4"})})]}),(0,t.jsx)(o.AccordionContent,{className:"p-6 pt-0",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(l.Label,{children:"Question Text"}),(0,t.jsx)(d.Textarea,{value:r.content,onChange:e=>{var t,a;return t=r.id,a=e.target.value,void E(e=>e.map(e=>e.id===t?{...e,content:a}:e))},className:"mt-1"})]}),"mcq"===r.type&&r.options&&(0,t.jsxs)("div",{children:[(0,t.jsx)(l.Label,{children:"Options & Correct Answer"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"The AI has suggested an answer. Please review and approve it, or select the correct one."}),(0,t.jsx)(c.RadioGroup,{value:r.correctAnswer,onValueChange:e=>F(r.id,e),children:r.options.map((a,i)=>(0,t.jsxs)("div",{className:`flex items-center space-x-2 p-3 rounded-md transition-colors ${r.correctAnswer===a?"bg-primary/10":"bg-muted/50"}`,children:[(0,t.jsx)(c.RadioGroupItem,{value:a,id:`${r.id}-option-${i}`}),(0,t.jsx)(l.Label,{htmlFor:`${r.id}-option-${i}`,className:"flex-1 cursor-pointer",children:a}),e.questions.find(e=>e.id===r.id)?.correctAnswer===a&&(0,t.jsxs)("div",{className:"text-xs text-primary font-semibold flex items-center gap-1",children:[(0,t.jsx)(y.Wand2,{className:"h-3 w-3"}),"AI Suggestion"]})]},i))})]}),"text"===r.type&&(0,t.jsxs)("div",{children:[(0,t.jsx)(l.Label,{children:"Reference Answer"}),(0,t.jsx)(d.Textarea,{value:r.correctAnswer,onChange:e=>F(r.id,e.target.value),className:"mt-1",placeholder:"Enter the ideal answer for grading reference."})]})]})})]})},r.id))})]})}e.s(["QuizReview",()=>C],48242)},78583,e=>{"use strict";let t=(0,e.i(75254).default)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["FileText",()=>t],78583)},72520,e=>{"use strict";let t=(0,e.i(75254).default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["ArrowRight",()=>t],72520)},88653,95468,e=>{"use strict";e.i(47167);var t=e.i(43476),r=e.i(71645),a=e.i(31178),i=e.i(47414),s=e.i(21476),n=r,o=e.i(37806);class l extends n.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function c({children:e,isPresent:r}){let a=(0,n.useId)(),i=(0,n.useRef)(null),s=(0,n.useRef)({width:0,height:0,top:0,left:0}),{nonce:c}=(0,n.useContext)(o.MotionConfigContext);return(0,n.useInsertionEffect)(()=>{let{width:e,height:t,top:n,left:o}=s.current;if(r||!i.current||!e||!t)return;i.current.dataset.motionPopId=a;let l=document.createElement("style");return c&&(l.nonce=c),document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${t}px !important;
            top: ${n}px !important;
            left: ${o}px !important;
          }
        `),()=>{document.head.removeChild(l)}},[r]),(0,t.jsx)(l,{isPresent:r,childRef:i,sizeRef:s,children:n.cloneElement(e,{ref:i})})}let d=({children:e,initial:a,isPresent:n,onExitComplete:o,custom:l,presenceAffectsLayout:d,mode:f})=>{let p=(0,i.useConstant)(u),m=(0,r.useId)(),h=(0,r.useCallback)(e=>{for(let t of(p.set(e,!0),p.values()))if(!t)return;o&&o()},[p,o]),x=(0,r.useMemo)(()=>({id:m,initial:a,isPresent:n,custom:l,onExitComplete:h,register:e=>(p.set(e,!1),()=>p.delete(e))}),d?[Math.random(),h]:[n,h]);return(0,r.useMemo)(()=>{p.forEach((e,t)=>p.set(t,!1))},[n]),r.useEffect(()=>{n||p.size||!o||o()},[n]),"popLayout"===f&&(e=(0,t.jsx)(c,{isPresent:n,children:e})),(0,t.jsx)(s.PresenceContext.Provider,{value:x,children:e})};function u(){return new Map}var f=e.i(64978);let p=e=>e.key||"";function m(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}var h=e.i(74008);let x=({children:e,custom:s,initial:n=!0,onExitComplete:o,presenceAffectsLayout:l=!0,mode:c="sync",propagate:u=!1})=>{let[x,v]=(0,f.usePresence)(u),y=(0,r.useMemo)(()=>m(e),[e]),g=u&&!x?[]:y.map(p),b=(0,r.useRef)(!0),w=(0,r.useRef)(y),j=(0,i.useConstant)(()=>new Map),[C,N]=(0,r.useState)(y),[k,R]=(0,r.useState)(y);(0,h.useIsomorphicLayoutEffect)(()=>{b.current=!1,w.current=y;for(let e=0;e<k.length;e++){let t=p(k[e]);g.includes(t)?j.delete(t):!0!==j.get(t)&&j.set(t,!1)}},[k,g.length,g.join("-")]);let A=[];if(y!==C){let e=[...y];for(let t=0;t<k.length;t++){let r=k[t],a=p(r);g.includes(a)||(e.splice(t,0,r),A.push(r))}"wait"===c&&A.length&&(e=A),R(m(e)),N(y);return}let{forceRender:I}=(0,r.useContext)(a.LayoutGroupContext);return(0,t.jsx)(t.Fragment,{children:k.map(e=>{let r=p(e),a=(!u||!!x)&&(y===k||g.includes(r));return(0,t.jsx)(d,{isPresent:a,initial:(!b.current||!!n)&&void 0,custom:a?void 0:s,presenceAffectsLayout:l,mode:c,onExitComplete:a?void 0:()=>{if(!j.has(r))return;j.set(r,!0);let e=!0;j.forEach(t=>{t||(e=!1)}),e&&(null==I||I(),R(w.current),u&&(null==v||v()),o&&o())},children:e},r)})})};e.s(["AnimatePresence",()=>x],88653);let v=(0,e.i(75254).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>v],95468)},33060,e=>{"use strict";let t=(0,e.i(75254).default)("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);e.s(["Wand2",()=>t],33060)},84762,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(47163);let i=r.forwardRef(({className:e,...r},i)=>(0,t.jsx)("textarea",{className:(0,a.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...r}));i.displayName="Textarea",e.s(["Textarea",()=>i])},31278,e=>{"use strict";let t=(0,e.i(75254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},99682,e=>{"use strict";var t=e.i(71645);function r(e){let r=t.useRef({value:e,previous:e});return t.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}e.s(["usePrevious",()=>r])},70065,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(47163);let i=r.forwardRef(({className:e,...r},i)=>(0,t.jsx)("div",{ref:i,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));i.displayName="Card";let s=r.forwardRef(({className:e,...r},i)=>(0,t.jsx)("div",{ref:i,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...r}));s.displayName="CardHeader";let n=r.forwardRef(({className:e,...r},i)=>(0,t.jsx)("div",{ref:i,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));n.displayName="CardTitle";let o=r.forwardRef(({className:e,...r},i)=>(0,t.jsx)("div",{ref:i,className:(0,a.cn)("text-sm text-muted-foreground",e),...r}));o.displayName="CardDescription";let l=r.forwardRef(({className:e,...r},i)=>(0,t.jsx)("div",{ref:i,className:(0,a.cn)("p-6 pt-0",e),...r}));l.displayName="CardContent";let c=r.forwardRef(({className:e,...r},i)=>(0,t.jsx)("div",{ref:i,className:(0,a.cn)("flex items-center p-6 pt-0",e),...r}));c.displayName="CardFooter",e.s(["Card",()=>i,"CardContent",()=>l,"CardDescription",()=>o,"CardFooter",()=>c,"CardHeader",()=>s,"CardTitle",()=>n])},91918,e=>{"use strict";var t=e.i(71645),r=e.i(20783),a=e.i(43476),i=Symbol.for("react.lazy"),s=t[" use ".trim().toString()];function n(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===i&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}function o(e){var i;let o,l=(i=e,(o=t.forwardRef((e,a)=>{let{children:i,...o}=e;if(n(i)&&"function"==typeof s&&(i=s(i._payload)),t.isValidElement(i)){var l;let e,s,n=(l=i,(s=(e=Object.getOwnPropertyDescriptor(l.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.ref:(s=(e=Object.getOwnPropertyDescriptor(l,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.props.ref:l.props.ref||l.ref),c=function(e,t){let r={...t};for(let a in t){let i=e[a],s=t[a];/^on[A-Z]/.test(a)?i&&s?r[a]=(...e)=>{let t=s(...e);return i(...e),t}:i&&(r[a]=i):"style"===a?r[a]={...i,...s}:"className"===a&&(r[a]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}(o,i.props);return i.type!==t.Fragment&&(c.ref=a?(0,r.composeRefs)(a,n):n),t.cloneElement(i,c)}return t.Children.count(i)>1?t.Children.only(null):null})).displayName=`${i}.SlotClone`,o),c=t.forwardRef((e,r)=>{let{children:i,...o}=e;n(i)&&"function"==typeof s&&(i=s(i._payload));let c=t.Children.toArray(i),u=c.find(d);if(u){let e=u.props.children,i=c.map(r=>r!==u?r:t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null);return(0,a.jsx)(l,{...o,ref:r,children:t.isValidElement(e)?t.cloneElement(e,void 0,i):null})}return(0,a.jsx)(l,{...o,ref:r,children:i})});return c.displayName=`${e}.Slot`,c}var l=o("Slot"),c=Symbol("radix.slottable");function d(e){return t.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===c}e.s(["Slot",()=>l,"createSlot",()=>o])},67881,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(91918),i=e.i(25913),s=e.i(47163);let n=(0,i.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef(({className:e,variant:r,size:i,asChild:o=!1,...l},c)=>{let d=o?a.Slot:"button";return(0,t.jsx)(d,{className:(0,s.cn)(n({variant:r,size:i,className:e})),ref:c,...l})});o.displayName="Button",e.s(["Button",()=>o,"buttonVariants",()=>n])},10772,e=>{"use strict";var t=e.i(71645),r=e.i(34620),a=t[" useId ".trim().toString()]||(()=>void 0),i=0;function s(e){let[s,n]=t.useState(a());return(0,r.useLayoutEffect)(()=>{e||n(e=>e??String(i++))},[e]),e||(s?`radix-${s}`:"")}e.s(["useId",()=>s])},86318,e=>{"use strict";var t=e.i(71645);e.i(43476);var r=t.createContext(void 0);function a(e){let a=t.useContext(r);return e||a||"ltr"}e.s(["useDirection",()=>a])},35804,e=>{"use strict";var t=e.i(71645),r=e.i(34620);function a(e){let[a,i]=t.useState(void 0);return(0,r.useLayoutEffect)(()=>{if(e){i({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let r,a;if(!Array.isArray(t)||!t.length)return;let s=t[0];if("borderBoxSize"in s){let e=s.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,a=t.blockSize}else r=e.offsetWidth,a=e.offsetHeight;i({width:r,height:a})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}i(void 0)},[e]),a}e.s(["useSize",()=>a])},42727,e=>{"use strict";var t=e.i(71645),r=e.i(81140),a=e.i(75830),i=e.i(20783),s=e.i(30030),n=e.i(10772),o=e.i(48425),l=e.i(30207),c=e.i(69340),d=e.i(86318),u=e.i(43476),f="rovingFocusGroup.onEntryFocus",p={bubbles:!1,cancelable:!0},m="RovingFocusGroup",[h,x,v]=(0,a.createCollection)(m),[y,g]=(0,s.createContextScope)(m,[v]),[b,w]=y(m),j=t.forwardRef((e,t)=>(0,u.jsx)(h.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,u.jsx)(h.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,u.jsx)(C,{...e,ref:t})})}));j.displayName=m;var C=t.forwardRef((e,a)=>{let{__scopeRovingFocusGroup:s,orientation:n,loop:h=!1,dir:v,currentTabStopId:y,defaultCurrentTabStopId:g,onCurrentTabStopIdChange:w,onEntryFocus:j,preventScrollOnEntryFocus:C=!1,...N}=e,k=t.useRef(null),R=(0,i.useComposedRefs)(a,k),I=(0,d.useDirection)(v),[S,E]=(0,c.useControllableState)({prop:y,defaultProp:g??null,onChange:w,caller:m}),[T,P]=t.useState(!1),F=(0,l.useCallbackRef)(j),z=x(s),D=t.useRef(!1),[M,L]=t.useState(0);return t.useEffect(()=>{let e=k.current;if(e)return e.addEventListener(f,F),()=>e.removeEventListener(f,F)},[F]),(0,u.jsx)(b,{scope:s,orientation:n,dir:I,loop:h,currentTabStopId:S,onItemFocus:t.useCallback(e=>E(e),[E]),onItemShiftTab:t.useCallback(()=>P(!0),[]),onFocusableItemAdd:t.useCallback(()=>L(e=>e+1),[]),onFocusableItemRemove:t.useCallback(()=>L(e=>e-1),[]),children:(0,u.jsx)(o.Primitive.div,{tabIndex:T||0===M?-1:0,"data-orientation":n,...N,ref:R,style:{outline:"none",...e.style},onMouseDown:(0,r.composeEventHandlers)(e.onMouseDown,()=>{D.current=!0}),onFocus:(0,r.composeEventHandlers)(e.onFocus,e=>{let t=!D.current;if(e.target===e.currentTarget&&t&&!T){let t=new CustomEvent(f,p);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=z().filter(e=>e.focusable);A([e.find(e=>e.active),e.find(e=>e.id===S),...e].filter(Boolean).map(e=>e.ref.current),C)}}D.current=!1}),onBlur:(0,r.composeEventHandlers)(e.onBlur,()=>P(!1))})})}),N="RovingFocusGroupItem",k=t.forwardRef((e,a)=>{let{__scopeRovingFocusGroup:i,focusable:s=!0,active:l=!1,tabStopId:c,children:d,...f}=e,p=(0,n.useId)(),m=c||p,v=w(N,i),y=v.currentTabStopId===m,g=x(i),{onFocusableItemAdd:b,onFocusableItemRemove:j,currentTabStopId:C}=v;return t.useEffect(()=>{if(s)return b(),()=>j()},[s,b,j]),(0,u.jsx)(h.ItemSlot,{scope:i,id:m,focusable:s,active:l,children:(0,u.jsx)(o.Primitive.span,{tabIndex:y?0:-1,"data-orientation":v.orientation,...f,ref:a,onMouseDown:(0,r.composeEventHandlers)(e.onMouseDown,e=>{s?v.onItemFocus(m):e.preventDefault()}),onFocus:(0,r.composeEventHandlers)(e.onFocus,()=>v.onItemFocus(m)),onKeyDown:(0,r.composeEventHandlers)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void v.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,r){var a;let i=(a=e.key,"rtl"!==r?a:"ArrowLeft"===a?"ArrowRight":"ArrowRight"===a?"ArrowLeft":a);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(i))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(i)))return R[i]}(e,v.orientation,v.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let i=g().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)i.reverse();else if("prev"===t||"next"===t){var r,a;"prev"===t&&i.reverse();let s=i.indexOf(e.currentTarget);i=v.loop?(r=i,a=s+1,r.map((e,t)=>r[(a+t)%r.length])):i.slice(s+1)}setTimeout(()=>A(i))}}),children:"function"==typeof d?d({isCurrentTabStop:y,hasTabStop:null!=C}):d})})});k.displayName=N;var R={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function A(e,t=!1){let r=document.activeElement;for(let a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}e.s(["Item",()=>k,"Root",()=>j,"createRovingFocusGroupScope",()=>g])},14683,e=>{"use strict";let t=(0,e.i(75254).default)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Circle",()=>t],14683)},16540,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(81140),i=e.i(20783),s=e.i(30030),n=e.i(48425),o=e.i(42727),l=e.i(69340),c=e.i(86318),d=e.i(35804),u=e.i(99682),f=e.i(96626),p="Radio",[m,h]=(0,s.createContextScope)(p),[x,v]=m(p),y=r.forwardRef((e,s)=>{let{__scopeRadio:o,name:l,checked:c=!1,required:d,disabled:u,value:f="on",onCheck:p,form:m,...h}=e,[v,y]=r.useState(null),g=(0,i.useComposedRefs)(s,e=>y(e)),b=r.useRef(!1),C=!v||m||!!v.closest("form");return(0,t.jsxs)(x,{scope:o,checked:c,disabled:u,children:[(0,t.jsx)(n.Primitive.button,{type:"button",role:"radio","aria-checked":c,"data-state":j(c),"data-disabled":u?"":void 0,disabled:u,value:f,...h,ref:g,onClick:(0,a.composeEventHandlers)(e.onClick,e=>{c||p?.(),C&&(b.current=e.isPropagationStopped(),b.current||e.stopPropagation())})}),C&&(0,t.jsx)(w,{control:v,bubbles:!b.current,name:l,value:f,checked:c,required:d,disabled:u,form:m,style:{transform:"translateX(-100%)"}})]})});y.displayName=p;var g="RadioIndicator",b=r.forwardRef((e,r)=>{let{__scopeRadio:a,forceMount:i,...s}=e,o=v(g,a);return(0,t.jsx)(f.Presence,{present:i||o.checked,children:(0,t.jsx)(n.Primitive.span,{"data-state":j(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:r})})});b.displayName=g;var w=r.forwardRef(({__scopeRadio:e,control:a,checked:s,bubbles:o=!0,...l},c)=>{let f=r.useRef(null),p=(0,i.useComposedRefs)(f,c),m=(0,u.usePrevious)(s),h=(0,d.useSize)(a);return r.useEffect(()=>{let e=f.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(m!==s&&t){let r=new Event("click",{bubbles:o});t.call(e,s),e.dispatchEvent(r)}},[m,s,o]),(0,t.jsx)(n.Primitive.input,{type:"radio","aria-hidden":!0,defaultChecked:s,...l,tabIndex:-1,ref:p,style:{...l.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function j(e){return e?"checked":"unchecked"}w.displayName="RadioBubbleInput";var C=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],N="RadioGroup",[k,R]=(0,s.createContextScope)(N,[o.createRovingFocusGroupScope,h]),A=(0,o.createRovingFocusGroupScope)(),I=h(),[S,E]=k(N),T=r.forwardRef((e,r)=>{let{__scopeRadioGroup:a,name:i,defaultValue:s,value:d,required:u=!1,disabled:f=!1,orientation:p,dir:m,loop:h=!0,onValueChange:x,...v}=e,y=A(a),g=(0,c.useDirection)(m),[b,w]=(0,l.useControllableState)({prop:d,defaultProp:s??null,onChange:x,caller:N});return(0,t.jsx)(S,{scope:a,name:i,required:u,disabled:f,value:b,onValueChange:w,children:(0,t.jsx)(o.Root,{asChild:!0,...y,orientation:p,dir:g,loop:h,children:(0,t.jsx)(n.Primitive.div,{role:"radiogroup","aria-required":u,"aria-orientation":p,"data-disabled":f?"":void 0,dir:g,...v,ref:r})})})});T.displayName=N;var P="RadioGroupItem",F=r.forwardRef((e,s)=>{let{__scopeRadioGroup:n,disabled:l,...c}=e,d=E(P,n),u=d.disabled||l,f=A(n),p=I(n),m=r.useRef(null),h=(0,i.useComposedRefs)(s,m),x=d.value===c.value,v=r.useRef(!1);return r.useEffect(()=>{let e=e=>{C.includes(e.key)&&(v.current=!0)},t=()=>v.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),(0,t.jsx)(o.Item,{asChild:!0,...f,focusable:!u,active:x,children:(0,t.jsx)(y,{disabled:u,required:d.required,checked:x,...p,...c,name:d.name,ref:h,onCheck:()=>d.onValueChange(c.value),onKeyDown:(0,a.composeEventHandlers)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,a.composeEventHandlers)(c.onFocus,()=>{v.current&&m.current?.click()})})})});F.displayName=P;var z=r.forwardRef((e,r)=>{let{__scopeRadioGroup:a,...i}=e,s=I(a);return(0,t.jsx)(b,{...s,...i,ref:r})});z.displayName="RadioGroupIndicator";var D=e.i(14683),M=e.i(47163);let L=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)(T,{className:(0,M.cn)("grid gap-2",e),...r,ref:a}));L.displayName=T.displayName;let q=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)(F,{ref:a,className:(0,M.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:(0,t.jsx)(z,{className:"flex items-center justify-center",children:(0,t.jsx)(D.Circle,{className:"h-2.5 w-2.5 fill-current text-current"})})}));q.displayName=F.displayName,e.s(["RadioGroup",()=>L,"RadioGroupItem",()=>q],16540)},27612,e=>{"use strict";let t=(0,e.i(75254).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],27612)},90283,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(18566),i=e.i(53427);e.i(36180);var s=e.i(17875),n=e.i(70065),o=e.i(67881),l=e.i(20278);let c=(0,e.i(75254).default)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);var d=e.i(3116),u=e.i(58249),f=e.i(90444),p=e.i(48242);function m(){let{user:e,isUserLoading:m}=(0,i.useUser)(),h=(0,i.useFirestore)(),x=(0,a.useRouter)();(0,a.useSearchParams)();let[v,y]=(0,r.useState)([]),[g,b]=(0,r.useState)(!0),[w,j]=(0,r.useState)(null),[C,N]=(0,r.useState)(!1);(0,r.useEffect)(()=>{m||e||x.push("/login")},[e,m,x]),(0,r.useEffect)(()=>{let t=async()=>{if(e&&h){b(!0);try{let t=(0,s.query)((0,s.collection)(h,"attempts"),(0,s.where)("studentId","==",e.uid)),r=(await (0,s.getDocs)(t)).docs.map(e=>({id:e.id,...e.data()}));if(r.length>0){let e=(0,u.calculateAnalytics)(r);y(e.weakAreas)}}catch(e){console.error("Failed to load weak areas:",e)}finally{b(!1)}}};e&&h&&t()},[e,h]);let k=async e=>{x.push(`/dashboard/practice?topic=${encodeURIComponent(e.topic)}`)};return m||g?(0,t.jsx)("div",{className:"p-8",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"Loading..."})}):C&&w?(0,t.jsx)(p.QuizReview,{quizData:w,onBack:()=>N(!1),onReset:()=>{N(!1),j(null)}}):(0,t.jsxs)("div",{className:"p-4 md:p-8 max-w-6xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:"Practice Mode"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Focus on your weak areas with personalized practice quizzes. No timer, hints allowed."})]}),v.length>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.Card,{className:"bg-primary/5 border-primary/20",children:[(0,t.jsxs)(n.CardHeader,{children:[(0,t.jsxs)(n.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(l.Target,{className:"h-5 w-5"}),"Your Weak Areas"]}),(0,t.jsx)(n.CardDescription,{children:"Practice these topics to improve your performance"})]}),(0,t.jsx)(n.CardContent,{children:(0,t.jsx)("div",{className:"space-y-4",children:v.slice(0,5).map((e,r)=>(0,t.jsx)(n.Card,{className:"bg-card",children:(0,t.jsx)(n.CardContent,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:e.topic}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(l.Target,{className:"h-3 w-3"}),Math.round(e.accuracy),"% accuracy"]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(d.Clock,{className:"h-3 w-3"}),Math.round(e.avgTimeTaken),"s avg"]}),(0,t.jsxs)("span",{children:[e.totalAttempts," attempts"]})]})]}),(0,t.jsx)(o.Button,{onClick:()=>k(e),className:"ml-4",children:"Practice This Topic"})]})})},r))})})]}),(0,t.jsxs)(n.Card,{children:[(0,t.jsxs)(n.CardHeader,{children:[(0,t.jsxs)(n.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(c,{className:"h-5 w-5"}),"Generate Custom Practice Quiz"]}),(0,t.jsx)(n.CardDescription,{children:"Upload new material or create a quiz from text to practice any topic"})]}),(0,t.jsx)(n.CardContent,{children:(0,t.jsx)(f.GenerateFromFile,{onQuizGenerated:e=>{j(e),N(!0)},showAnswerReview:!1})})]})]}):(0,t.jsx)(n.Card,{className:"bg-muted/50",children:(0,t.jsxs)(n.CardContent,{className:"p-8 text-center",children:[(0,t.jsx)(l.Target,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No Weak Areas Detected Yet"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:"Complete some quizzes to identify areas that need practice."}),(0,t.jsx)(o.Button,{onClick:()=>x.push("/dashboard/practice"),children:"Start Practicing"})]})})]})}e.s(["default",()=>m],90283)}]);
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70065,e=>{"use strict";var r=e.i(43476),s=e.i(71645),t=e.i(47163);let a=s.forwardRef(({className:e,...s},a)=>(0,r.jsx)("div",{ref:a,className:(0,t.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));a.displayName="Card";let d=s.forwardRef(({className:e,...s},a)=>(0,r.jsx)("div",{ref:a,className:(0,t.cn)("flex flex-col space-y-1.5 p-6",e),...s}));d.displayName="CardHeader";let l=s.forwardRef(({className:e,...s},a)=>(0,r.jsx)("div",{ref:a,className:(0,t.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));l.displayName="CardTitle";let n=s.forwardRef(({className:e,...s},a)=>(0,r.jsx)("div",{ref:a,className:(0,t.cn)("text-sm text-muted-foreground",e),...s}));n.displayName="CardDescription";let o=s.forwardRef(({className:e,...s},a)=>(0,r.jsx)("div",{ref:a,className:(0,t.cn)("p-6 pt-0",e),...s}));o.displayName="CardContent";let i=s.forwardRef(({className:e,...s},a)=>(0,r.jsx)("div",{ref:a,className:(0,t.cn)("flex items-center p-6 pt-0",e),...s}));i.displayName="CardFooter",e.s(["Card",()=>a,"CardContent",()=>o,"CardDescription",()=>n,"CardFooter",()=>i,"CardHeader",()=>d,"CardTitle",()=>l])},71428,e=>{"use strict";var r=e.i(43476),s=e.i(47163);function t({className:e,...t}){return(0,r.jsx)("div",{className:(0,s.cn)("animate-pulse rounded-md bg-muted",e),...t})}e.s(["Skeleton",()=>t])},94179,e=>{"use strict";var r=e.i(43476),s=e.i(25913),t=e.i(47163);let a=(0,s.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d({className:e,variant:s,...d}){return(0,r.jsx)("div",{className:(0,t.cn)(a({variant:s}),e),...d})}e.s(["Badge",()=>d])},50582,e=>{"use strict";var r=e.i(43476),s=e.i(53427);e.i(36180);var t=e.i(17875),a=e.i(71428),d=e.i(70065),l=e.i(71645),n=e.i(47163);let o=l.forwardRef(({className:e,...s},t)=>(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",e),...s})}));o.displayName="Table";let i=l.forwardRef(({className:e,...s},t)=>(0,r.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",e),...s}));i.displayName="TableHeader";let c=l.forwardRef(({className:e,...s},t)=>(0,r.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",e),...s}));c.displayName="TableBody",l.forwardRef(({className:e,...s},t)=>(0,r.jsx)("tfoot",{ref:t,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...s})).displayName="TableFooter";let u=l.forwardRef(({className:e,...s},t)=>(0,r.jsx)("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...s}));u.displayName="TableRow";let m=l.forwardRef(({className:e,...s},t)=>(0,r.jsx)("th",{ref:t,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...s}));m.displayName="TableHead";let f=l.forwardRef(({className:e,...s},t)=>(0,r.jsx)("td",{ref:t,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...s}));f.displayName="TableCell",l.forwardRef(({className:e,...s},t)=>(0,r.jsx)("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",e),...s})).displayName="TableCaption";var x=e.i(94179);function h(){let{user:e}=(0,s.useUser)(),l=(0,s.useFirestore)(),n=(0,s.useMemoFirebase)(()=>e&&l?(0,t.query)((0,t.collection)(l,"attempts"),(0,t.where)("studentId","==",e.uid)):null,[e,l]),{data:h,isLoading:j}=(0,s.useCollection)(n);return j?(0,r.jsx)(a.Skeleton,{className:"h-64 w-full"}):h&&0!==h.length?(0,r.jsx)(d.Card,{children:(0,r.jsxs)(o,{children:[(0,r.jsx)(i,{children:(0,r.jsxs)(u,{children:[(0,r.jsx)(m,{children:"Exam"}),(0,r.jsx)(m,{children:"Score"}),(0,r.jsx)(m,{children:"Status"}),(0,r.jsx)(m,{children:"Date"})]})}),(0,r.jsx)(c,{children:h.map(e=>(0,r.jsxs)(u,{children:[(0,r.jsx)(f,{className:"font-medium",children:e.examTitle||"N/A"}),(0,r.jsxs)(f,{children:[e.score,"/",e.totalQuestions]}),(0,r.jsx)(f,{children:(0,r.jsx)(x.Badge,{variant:"Completed"===e.status?"default":"secondary",children:e.status})}),(0,r.jsx)(f,{children:e.completedAt?new Date(e.completedAt).toLocaleDateString():"In Progress"})]},e.id))})]})}):(0,r.jsx)("p",{className:"text-muted-foreground mt-4",children:"No results found."})}function j(){let e=(0,s.useFirestore)(),l=(0,s.useMemoFirebase)(()=>e?(0,t.query)((0,t.collection)(e,"attempts")):null,[e]),{data:n,isLoading:h}=(0,s.useCollection)(l);return h?(0,r.jsx)(a.Skeleton,{className:"h-64 w-full"}):n&&0!==n.length?(0,r.jsx)(d.Card,{children:(0,r.jsxs)(o,{children:[(0,r.jsx)(i,{children:(0,r.jsxs)(u,{children:[(0,r.jsx)(m,{children:"Student ID"}),(0,r.jsx)(m,{children:"Exam"}),(0,r.jsx)(m,{children:"Score"}),(0,r.jsx)(m,{children:"Status"}),(0,r.jsx)(m,{children:"Date"})]})}),(0,r.jsx)(c,{children:n.map(e=>(0,r.jsxs)(u,{children:[(0,r.jsxs)(f,{className:"font-mono text-xs",children:[e.studentId.substring(0,10),"..."]}),(0,r.jsx)(f,{className:"font-medium",children:e.examTitle||"N/A"}),(0,r.jsxs)(f,{children:[e.score,"/",e.totalQuestions]}),(0,r.jsx)(f,{children:(0,r.jsx)(x.Badge,{variant:"Completed"===e.status?"default":"secondary",children:e.status})}),(0,r.jsx)(f,{children:e.completedAt?new Date(e.completedAt).toLocaleDateString():"In Progress"})]},e.id))})]})}):(0,r.jsx)("p",{className:"text-muted-foreground mt-4",children:"No results found."})}function p(){let{user:e,isUserLoading:d}=(0,s.useUser)(),l=(0,s.useFirestore)(),n=(0,s.useMemoFirebase)(()=>e&&l?(0,t.doc)(l,"users",e.uid):null,[e,l]),{data:o,isLoading:i}=(0,s.useDoc)(n);return d||i?(0,r.jsx)("div",{className:"p-8",children:(0,r.jsx)(a.Skeleton,{className:"h-64 w-full"})}):(0,r.jsxs)("div",{className:"p-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tight mb-8",children:"Results"}),(()=>{switch(o?.role){case"student":return(0,r.jsx)(h,{});case"instructor":return(0,r.jsx)(j,{});default:return(0,r.jsx)("div",{children:"You do not have permission to view results."})}})()]})}e.s(["default",()=>p],50582)}]);
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,71428,e=>{"use strict";var t=e.i(43476),r=e.i(47163);function s({className:e,...s}){return(0,t.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",e),...s})}e.s(["Skeleton",()=>s])},18566,(e,t,r)=>{t.exports=e.r(76562)},70065,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(47163);let a=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));a.displayName="Card";let n=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",e),...r}));n.displayName="CardHeader";let i=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));i.displayName="CardTitle";let l=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,s.cn)("text-sm text-muted-foreground",e),...r}));l.displayName="CardDescription";let o=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,s.cn)("p-6 pt-0",e),...r}));o.displayName="CardContent";let d=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,s.cn)("flex items-center p-6 pt-0",e),...r}));d.displayName="CardFooter",e.s(["Card",()=>a,"CardContent",()=>o,"CardDescription",()=>l,"CardFooter",()=>d,"CardHeader",()=>n,"CardTitle",()=>i])},91918,e=>{"use strict";var t=e.i(71645),r=e.i(20783),s=e.i(43476),a=Symbol.for("react.lazy"),n=t[" use ".trim().toString()];function i(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===a&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}function l(e){var a;let l,o=(a=e,(l=t.forwardRef((e,s)=>{let{children:a,...l}=e;if(i(a)&&"function"==typeof n&&(a=n(a._payload)),t.isValidElement(a)){var o;let e,n,i=(o=a,(n=(e=Object.getOwnPropertyDescriptor(o.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.ref:(n=(e=Object.getOwnPropertyDescriptor(o,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.props.ref:o.props.ref||o.ref),d=function(e,t){let r={...t};for(let s in t){let a=e[s],n=t[s];/^on[A-Z]/.test(s)?a&&n?r[s]=(...e)=>{let t=n(...e);return a(...e),t}:a&&(r[s]=a):"style"===s?r[s]={...a,...n}:"className"===s&&(r[s]=[a,n].filter(Boolean).join(" "))}return{...e,...r}}(l,a.props);return a.type!==t.Fragment&&(d.ref=s?(0,r.composeRefs)(s,i):i),t.cloneElement(a,d)}return t.Children.count(a)>1?t.Children.only(null):null})).displayName=`${a}.SlotClone`,l),d=t.forwardRef((e,r)=>{let{children:a,...l}=e;i(a)&&"function"==typeof n&&(a=n(a._payload));let d=t.Children.toArray(a),u=d.find(c);if(u){let e=u.props.children,a=d.map(r=>r!==u?r:t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null);return(0,s.jsx)(o,{...l,ref:r,children:t.isValidElement(e)?t.cloneElement(e,void 0,a):null})}return(0,s.jsx)(o,{...l,ref:r,children:a})});return d.displayName=`${e}.Slot`,d}var o=l("Slot"),d=Symbol("radix.slottable");function c(e){return t.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===d}e.s(["Slot",()=>o,"createSlot",()=>l])},67881,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(91918),a=e.i(25913),n=e.i(47163);let i=(0,a.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=r.forwardRef(({className:e,variant:r,size:a,asChild:l=!1,...o},d)=>{let c=l?s.Slot:"button";return(0,t.jsx)(c,{className:(0,n.cn)(i({variant:r,size:a,className:e})),ref:d,...o})});l.displayName="Button",e.s(["Button",()=>l,"buttonVariants",()=>i])},31278,e=>{"use strict";let t=(0,e.i(75254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},3116,e=>{"use strict";let t=(0,e.i(75254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],3116)},38548,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(18566),a=e.i(53427);e.i(36180);var n=e.i(17875),i=e.i(70065),l=e.i(67881),o=e.i(31278),d=e.i(3116),c=e.i(71428),u=e.i(20682);function f({targetDate:e,examId:a}){let n=()=>{let t=new Date(e)-new Date,r={days:0,hours:0,minutes:0,seconds:0};return t>0&&(r={days:Math.floor(t/864e5),hours:Math.floor(t/36e5%24),minutes:Math.floor(t/1e3/60%60),seconds:Math.floor(t/1e3%60)}),r},[i,l]=(0,r.useState)(n()),o=(0,s.useRouter)();(0,r.useEffect)(()=>{let e=setTimeout(()=>{let e=n();l(e),Object.values(e).every(e=>0===e)&&o.push(`/exam/${a}`)},1e3);return()=>clearTimeout(e)});let d=Object.entries(i).map(([e,r])=>0===r&&"seconds"!==e&&0===i.days&&("minutes"!==e||0===i.hours)?null:(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("span",{className:"text-4xl font-bold",children:r.toString().padStart(2,"0")}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground uppercase",children:e})]},e));return(0,t.jsx)("div",{className:"flex justify-center gap-4 sm:gap-8 my-8",children:d.filter(e=>e).length>0?d:(0,t.jsx)("span",{children:"Starting..."})})}function m(){let{user:e,isUserLoading:m}=(0,a.useUser)(),p=(0,a.useFirestore)(),x=(0,s.useRouter)(),h=(0,s.useParams)().examId,g=(0,a.useMemoFirebase)(()=>p&&h?(0,n.doc)(p,"exams",h):null,[p,h]),{data:y,isLoading:v}=(0,a.useDoc)(g);if((0,r.useEffect)(()=>{m||e||x.push("/login")},[e,m,x]),(0,r.useEffect)(()=>{!v&&y&&e&&!y.enrolledStudentIds?.includes(e.uid)&&((0,u.toast)({title:"Not Enrolled",description:"You are not enrolled in this exam.",variant:"destructive"}),x.push("/dashboard"))},[y,v,e,x]),m||v||!y)return(0,t.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,t.jsxs)(i.Card,{className:"w-full max-w-lg",children:[(0,t.jsxs)(i.CardHeader,{children:[(0,t.jsx)(c.Skeleton,{className:"h-8 w-3/4"}),(0,t.jsx)(c.Skeleton,{className:"h-4 w-1/2 mt-2"})]}),(0,t.jsxs)(i.CardContent,{className:"text-center",children:[(0,t.jsx)(c.Skeleton,{className:"h-24 w-full"}),(0,t.jsx)(c.Skeleton,{className:"h-10 w-32 mx-auto mt-6"})]})]})});let j=new Date(y.scheduledTime)<=new Date;return(0,t.jsx)("div",{className:"flex min-h-screen items-center justify-center p-4 bg-background",children:(0,t.jsxs)(i.Card,{className:"w-full max-w-lg shadow-2xl",children:[(0,t.jsxs)(i.CardHeader,{className:"text-center",children:[(0,t.jsx)(i.CardTitle,{className:"text-3xl",children:y.quizTitle}),(0,t.jsx)(i.CardDescription,{children:"You are in the waiting room. The exam will begin shortly."})]}),(0,t.jsxs)(i.CardContent,{className:"text-center",children:[(0,t.jsx)(d.Clock,{className:"mx-auto h-12 w-12 text-primary"}),(0,t.jsx)("h2",{className:"text-lg font-semibold mt-6 mb-2",children:"Exam Starts In"}),(0,t.jsx)(f,{targetDate:y.scheduledTime,examId:h}),(0,t.jsx)(l.Button,{disabled:!j,onClick:()=>x.push(`/exam/${h}`),size:"lg",className:"w-full",children:j?"Enter Exam":(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Please wait..."]})})]})]})})}e.s(["default",()=>m])}]);